!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend(!0,{},a.fn.contextmenu.defaults,c),this.$menu=a(this.options.target),this._attachListeners()};b.prototype={constructor:b,destroy:function(){this.hide().$element.off(".contextmenu").removeData("tm.contextmenu")},_attachListeners:function(){var b=this;this.$element.on("contextmenu",function(c){c.stopPropagation(),c.preventDefault();var d=a.Event("show.tm.contextmenu");if(d.relatedTarget=b.$menu,b.$element.trigger(d),!d.isDefaultPrevented()){var e=a(window),f=c.pageX,g=c.pageY;c.pageX+b.$menu.outerWidth()>e.width()&&c.pageX-b.$menu.outerWidth()>0&&(f-=b.$menu.outerWidth()),c.pageY+b.$menu.outerHeight()>e.height()&&(g-=b.$menu.outerHeight()),b.$menu.css("left",f).css("top",g).css("position","absolute").show(),a(document).one("click scroll",function(){var c=a.Event("hide.tm.contextmenu");if(c.relatedTarget=b.$menu,b.$element.trigger(c),!c.isDefaultPrevented()){b.$menu.hide();var d=a.Event("hidden.tm.contextmenu");d.relatedTarget=b.$menu,b.$element.trigger(d)}});var h=a.Event("shown.tm.contextmenu");h.relatedTarget=b.$menu,b.$element.trigger(h)}})}};var c=a.fn.contextmenu;a.fn.contextmenu=function(c,d){return this.each(function(){var e=a(this),f=e.data("tm.contextmenu"),g="object"==typeof c&&c;f||e.data("tm.contextmenu",f=new b(this,g)),"string"==typeof c&&"function"==typeof f[c]&&f[c](d)})},a.fn.contextmenu.constructor=b,a.fn.contextmenu.noConflict=function(){return a.fn.contextmenu=c,this},a.fn.contextmenu.defaults={target:null}}(window.jQuery);